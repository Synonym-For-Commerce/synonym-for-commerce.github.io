{"ast":null,"code":"import React, { Component } from \"react\";\nimport * as svgGeneric from \"../js/svgGeneric\";\nimport gsap from \"gsap\";\nconst pi = Math.PI;\nlet defaultRadius = 50; //creates a circle from an array of svg paths, returns <g class=\"ring\">\n\nclass SvgRing extends React.Component() {\n  constructor() {\n    super();\n    this.state = {\n      pathArrLength: this.props.pathArr.length,\n      ring: svgGeneric.group({\n        class: this.props.ringClass + \" ring\"\n      })\n    };\n    if (this.state.pathArrLength < 1) this.state.ring.appendChild(svgGeneric.circle({\n      r: this.props.radius ? this.props.radius : defaultRadius,\n      class: \"mandalaCircle\"\n    }));else {\n      let avgWidth = 0;\n      let avgHeight = 0;\n      let pathDataArr = [];\n      this.props.pathArr.forEach(e => {\n        let bBox = e.getBBox(); //any elements passed in that are not in dom will be added to defs, as will any elements in the dom that have height == 0 and width == 0\n\n        if (!bBox.width && !bBox.height) {\n          svgGeneric.addToDefs(e);\n          bBox = e.getBBox();\n        }\n\n        avgWidth += bBox.width;\n        avgHeight += bBox.height;\n        pathDataArr.push([e.getAttribute(\"id\"), e.getAttribute(\"class\")]);\n      });\n      avgWidth /= this.state.pathArrLength;\n      avgHeight /= this.state.pathArrLength;\n      this.state = {\n        radius: this.props.radius ? this.props.radius : avgHeight,\n        circumference: this.state.radius * 2 * pi,\n        cuts: !this.props.cuts || this.props.cuts < 1 ? Math.floor(this.state.circumference / avgWidth / this.state.pathArrLength) : this.props.cuts,\n        totalCuts: this.state.cuts * this.state.pathArrLength\n      };\n\n      for (let i = 1; i <= this.state.totalCuts; i++) {\n        let pathData = pathDataArr[i % this.state.pathArrLength];\n        let partialPath = svgGeneric.use({\n          href: `#${pathData[0]}`,\n          class: pathData[1]\n        }); //center\n\n        gsapCenterElement(partialPath); //move to circumference\n\n        let angleRad = 2 * pi * i / this.state.totalCuts;\n        let scale = this.props.scale ? this.props.scale : 1;\n        gsapMoveToCircumferenceAtAngle(partialPath, angleRad, this.state.radius, scale);\n        if (this.props.offset && this.props.offest != 0) gsap.set(ring, {\n          transformOrigin: \"center\",\n          rotation: params.ringOffset\n        });\n        ring.appendChild(partialPath);\n      }\n    }\n  }\n\n  render() {\n    this.state.ring;\n  }\n\n}\n\nexport default MakeRing;","map":{"version":3,"sources":["C:/Users/Soda/Documents/HTML5/mandala-maker/src/Components/MandalaReact.js"],"names":["React","Component","svgGeneric","gsap","pi","Math","PI","defaultRadius","SvgRing","constructor","state","pathArrLength","props","pathArr","length","ring","group","class","ringClass","appendChild","circle","r","radius","avgWidth","avgHeight","pathDataArr","forEach","e","bBox","getBBox","width","height","addToDefs","push","getAttribute","circumference","cuts","floor","totalCuts","i","pathData","partialPath","use","href","gsapCenterElement","angleRad","scale","gsapMoveToCircumferenceAtAngle","offset","offest","set","transformOrigin","rotation","params","ringOffset","render","MakeRing"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport * as svgGeneric from \"../js/svgGeneric\";\r\nimport gsap from \"gsap\";\r\nconst pi = Math.PI;\r\nlet defaultRadius = 50;\r\n\r\n//creates a circle from an array of svg paths, returns <g class=\"ring\">\r\nclass SvgRing extends React.Component() {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      pathArrLength: this.props.pathArr.length,\r\n      ring: svgGeneric.group({ class: this.props.ringClass + \" ring\" }),\r\n    };\r\n    if (this.state.pathArrLength < 1)\r\n      this.state.ring.appendChild(\r\n        svgGeneric.circle({\r\n          r: this.props.radius ? this.props.radius : defaultRadius,\r\n          class: \"mandalaCircle\",\r\n        })\r\n      );\r\n    else {\r\n      let avgWidth = 0;\r\n      let avgHeight = 0;\r\n      let pathDataArr = [];\r\n\r\n      this.props.pathArr.forEach((e) => {\r\n        let bBox = e.getBBox();\r\n        //any elements passed in that are not in dom will be added to defs, as will any elements in the dom that have height == 0 and width == 0\r\n        if (!bBox.width && !bBox.height) {\r\n          svgGeneric.addToDefs(e);\r\n          bBox = e.getBBox();\r\n        }\r\n        avgWidth += bBox.width;\r\n        avgHeight += bBox.height;\r\n        pathDataArr.push([e.getAttribute(\"id\"), e.getAttribute(\"class\")]);\r\n      });\r\n\r\n      avgWidth /= this.state.pathArrLength;\r\n      avgHeight /= this.state.pathArrLength;\r\n\r\n      this.state = {\r\n        radius: this.props.radius ? this.props.radius : avgHeight,\r\n        circumference: this.state.radius * 2 * pi,\r\n        cuts:\r\n          !this.props.cuts || this.props.cuts < 1\r\n            ? Math.floor(this.state.circumference / avgWidth / this.state.pathArrLength)\r\n            : this.props.cuts,\r\n        totalCuts: this.state.cuts * this.state.pathArrLength,\r\n      };\r\n\r\n      for (let i = 1; i <= this.state.totalCuts; i++) {\r\n        let pathData = pathDataArr[i % this.state.pathArrLength];\r\n        let partialPath = svgGeneric.use({\r\n          href: `#${pathData[0]}`,\r\n          class: pathData[1],\r\n        });\r\n        //center\r\n        gsapCenterElement(partialPath);\r\n        //move to circumference\r\n        let angleRad = (2 * pi * i) / this.state.totalCuts;\r\n        let scale = this.props.scale ? this.props.scale : 1;\r\n        gsapMoveToCircumferenceAtAngle(\r\n          partialPath,\r\n          angleRad,\r\n          this.state.radius,\r\n          scale\r\n        );\r\n        if (this.props.offset && this.props.offest != 0)\r\n          gsap.set(ring, {\r\n            transformOrigin: \"center\",\r\n            rotation: params.ringOffset,\r\n          });\r\n        ring.appendChild(partialPath);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.state.ring;\r\n  }\r\n}\r\nexport default MakeRing;\r\n"]},"metadata":{},"sourceType":"module"}